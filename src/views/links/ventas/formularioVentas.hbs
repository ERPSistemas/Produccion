
<style>
  #canvas{
   background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAABWCAMAAABCbVtUAAAALVBMVEX///+dnZwAVI4AU4ytyNrV1dXe6fDw8O/5+/wfaZu2trVMh68EV4+fn554pMN3Ou9aAAAPA0lEQVR4nO1ciWLjKhL0IITBYP7/c7erL5AsJ85MNMdb9+6bxDJIUPRR3aBcLm95y1v+vyX/6QH8pZKvJA7OdV3X2+22/skR/a2Sb3eWq11Y7/cfJG+wjmRlbH7c9GO+8ccB3lsmuW7RuSp2b591JHn9IfDcBDWR9Q3WoagubeRthU8k3x7Bur3BeiKrqRPkxvKOhc8EzMrlet2wrrfsJQObfDWhTwkSY0x0nX7EDklzH3xrsoE2p5zzfw/slHyywIiJO+R6SSWEsIRQCJ+I3yGtbzoXbrHgm/mL1GsFslGg/peF9GUseiokLSwlEtm6kQUSXHemWJHRWZZKitIFEfqvzpOPZVkEqoBm43oTDJel0X1VsiwLPf03zPE7JMVeG6TULoPOlSe1hJo5It4FsJW+WPiLFoHoIh8Y1CFQuIWF4BoYcHO+SB3kck69NJdSoHmC3N8KXYq1BdeRUtnPsHYEtjZNeigYEh2l69yOrbAFhXQJfXJFBJaiuMx2GJsh5RgKrPJo7UG/A7V++ZOSVR6+SAyVzIH/XzDxVBe+RN4oswUKxcq9KQbUpirEaFgmVVBXJoY4DLTaggAPvsp2ubh/E3j5f7P5xtqhbL8tNMDOyAfBzGLaBiioCkYXwlh2TDCKZkGFKBgyXveVMGRNYLNLZbFp0iQnO2TtW8LOQOWqPoOxjXaDxVfKek1g5SKjKqX/DrRyrMXH0soc57OZlS0wjxRo5aI2RqpFBgi8KBZCF3gubIWL+aZl48ndDPmJOkXSSX0G/gNYuKJ6aa5vMe1aJusNtiblfEeWo9mZxfky2I9MXpazeYulERgW6mrKK7H3lVlWVUXqF3b1i9nbMs8kKruQeesXqof6DFxMxWwvTGarwDhYqdqgwqy9Z2E11N+WrZlyJXXjgKp2jfj4t/WcinxoUUo1d5CsJorUZK6sC4X9NnpMYKn3mQy0uzvCNdZMW6fJuS+mXI4LwoJeDmd7/dknKSyLaM7FDIG/IvwQxx1S0r6uc4Fqabkh6l1KNtZEHavMdHhy4VluWWyguSwe98yMHVFzVGa59K+Blar2CFuvf4pocA5hmJtQbvawzSyQsMnXzLRHtb4qSwisWnDwt5zNJLoyMTaortYd52dOZiXOfFyyENL9Q5S0qdbKXLi1Qc/i7EFOdlqpLAbQBqzQJPbLNSga4bGSUyK4RFFaEjgWXlCkPFexryARLjWxtQrb5F/dSDRoLKpGzF+rKZBcrBmGqRpVPUJnSbMoJbILxXqEsKO+3y4SgnSURnLE7WCVlGk3GuyVsxkChNmTuJqonpWaXoEkDHMxi4saxiLHTfQoA6yBCjcXLrtMgQ9gRIukTN2Zu3vGZf6PA5AH3Xaq04qaYeBBxLGIbKnzYv5gHha88+5l0K7zrIh3wjY6YUlWmDQCNImFBqT3mBmVkVWhWgRzGNfwyKyPN0+m7ozCzMwDQY2Z8hZLvs7DSmbLIxJ2xZkNIp+kNE2GWkf5mHinhi3SB6frnPOsQqyUkRqXYrZfrIeB5fqrMSB55FCAtJspoCnd4iPVOzWNEVVa1ROd1khdi60XJTfkzeWZfTkCK6raE0JJfRSzB5AstWA4nKYWTFmIrP/iKY/rc1PIajc+apYHe3Krnr7gXg5J0ie2KOa4nOnhXdEnz5iqr1xXz1+mjYkVnYKqk7FuwHMV6JQwGlVsFVLcXOWx6ihDUY/TmuqY1b+EMUm8MP5l3FP1TsavkTknyRzCiR6+m3LPtj58QlePsQNLrIFXUcfIAU2Vif5LZnkzoTSqqWskxjaXH3ChGs/jSefYFgdoply6tlkTUUAkCeJyooevqgrteEGizqRdLrcBlrF0BriqT6YPqaoGcNgPNj3zThzWHCxx171OWsPuSLMZG9DIxBZPpYeKaiLKnqqKtZbDiXwbWBz7jsFKOsQJrNuq1qbE22pQdIeoHJyNpFgQcxfNzbougnKUHic7Q8+uPXz1EgVoS7AdriAqqqsjyEbVwPOcVjU7OwYrN00vQEnvmv6RtYkH4j6jrIUast8seQnMcyhPgxgsMbtuZEP5SjRHP/vQxNxdibuqWRn5xfTBR3WK9GDJzVzHHDUt9dILmEReUQnNsSoAbThrmZ7yg0UylZHKGUcKwXxRtBQvJnMEak5dSQLAylI+RlVP1y5J0Uf9ZdYqKhgiUUTJvU7MpaMZwMRPUFnhGuDFKpWL1JLz9WrlrcmVOhmqalCtj5DudmP8U4pX0fjAIKNse10yHGdqkMrcXTZ8knAOTSfj4tZtLD5sQ9X3StLy3KRaVnEr4H5cUdYoXxN8eFOPPAzFtVMVpEXLlBUry6EkyCdZI1G06Mk4PyJZZZmdaNSUna0cuxUkQT18TUpOPC8073ge0zKPA9erJbhuyZZu/A2f0vqY2VSdsoTZUkxyS8zsJTlxEa6/qDPWHtFpMSuFhufFtjsG6zD2rr8h4Hoda44hy4m5dBZnzewBlocdL3cwTKJlSKokzYc15RW5GqPSWKhrwOwiuWglkM0kWo8oO2caD6PsWZhPsmTLjCw4XYPBSh1rmJ9RlRNz6XlvmLfm3Cdr5iDpn0U0ta3Q5hxMNrxMQ7neIiY5x41shMy9TRC+HZ0WSJlDc4bEHHcy49ni0FSMdGPpusbn5dLG6wY/Vlya1uFT3+xYiFva5KuuR9yOY6FaxWwSvikYlZRCAKwzeMyyqb9mXuvLZF7PNa1LUWP28P7pxFw61ymSeIRfpu287CHIlL1tj3mMNIfnAUZq494UU4pId7A4FmS7O3szc1MgvN0cld3aPi6sWLtr3q6dWXiogyA76SbdmefZyygRgkU83IKPc0iAZ2qdNuciPhmAnTFBT0m7iTBcsAZjQ3v8EB+QfUO2K2UtloyfusWT6ib2Cs3b6bIkHYELhPE8n8CSk55kSHJaSdCzpeTqn1fEjCkw4FrzODOXnryS+669ndkMvqIw3ySohiU98cW6yyPIVTnYnHpUI9jnDihW3R4MEupO36v8Vcmxi71uovIyONqZQgSrKCko/R85RwaN25zLSGqqT+pNXxY+kHDnkwmPjyY9n7ZP/j3J4uYfaOnzSX94Nz8ahLNn/ywozyWzY9t6kZ+cdL7NJ/zv63/1uPrmmNZ+0i+idd2f7/9/ONz/k5P2bvf7hx3tuLX8BF/M0G5ljinrDzkXyw2kTIcoYUdv8BHOl3/JRjmz31LqenqudjBSNM/Z2yZui6dbW/4sD8r6MeWH8+GHWPmsX0JLtpTlGJWa8YFS5s7H/7L87BkFuIhMpXcpxSXJWaI2JI5WuEzX0VUZTpLv+ctoeU5PcstEjdFCb9ij3pD6ddyfn0i+mh/f0a+WLreoF77hpSJlwj/yDG75K5N+xHjTUnfjH19JiqWh9BRjw0/KJYj84Z+ldy5O9YQyalkq5WbUoOGy1FZT7sG2VgplloX4YkEph5Kh0pYmN2gtRuqRit8wVpw6ZG5UuQqP/LsHadu5XN34WAEOSheuZBWQdHoa5R4+jkME9pO+HU96L3qAah2fD185xYQT5Tax8ixDRb2roPRLcytMoFEmLNhCbtyw89QbTWwCi9pGwIL6JqlWoiwPG/R0S8DMPUKnO+CGxFmqljgqH+YCPhWVMG5DqJUW0Yau8A2TgEUUlGGkC/zlB5MebyW/9p6tHM1Dtywpi9xob8A0YWwA8uMZuc7Hz4m8EFhLw5yxP0BAVCBDDWnKl0j2iM0GBwvLHQolu6Q0HScikGsW7BvTfWNQsFAsZjM1M6I+uDd9pK8vvFYLF9nQiMsygbSoC1gAn4BinIDYs0n/mCZ9OZz0Y7+7tkJqw0dGFb4HsFiz+tAs1L0LLzJO2cSEsgPMD6cjqCE0jCZZYTu+wwlz4W2uirnEwvUe+jeyAUMnYYaqWcOIqHHBgZhiik1tamVKjg/Q4IpvSrBTOliQgnNih5q1+qTJjOvTST/2Y0iznvbhOtJhP/FVNBP3WaRcoZfJZxEK0I8WpGFoetqqs6NhRphRioqy997wxFLZYCvodQzcM+oNydCtG922UoMy+Sx6UAkGFm9MBuy5Ye+LPakMuBz7rDFpVG/K00nvRIwOjWRHoOqtHvpR/CHjgL00uAuKhjRaWmk4B7ZI+CJS+8qlCvwAmiVSiyomKxuDpAN0ixrxi7xK0rEzRFYVuYDGPSFVX3NhsKgD/cbxt0k0bB5Syfz0hvJmDEIIjA81gH1F6WHSXlBcX3BaM1hctX3aj/L5Li+/8U8wGfm/8SGjO6NBBNXyt+KkvgTuw7/HcR07y7H2nOaec7foD5O2wrOMrKXdDbPwKxvwk0nfTUMCHzdgy3zNDC+69842L5eIgRy/hHKS/I48nScEYmXqwHVvFP/zoTntZfg6MBbU9qZEAK/qymuo/3hyLe+I8l8t2aQp4LilvuzgRyvVXnuVa4i84iyo/YaJfatkhYjkvpsXT1pfrB068/HdbjuGcfQ3BhQzfTXc3nn+K1/EFUMzNdK/8nI8oXnSN4uPH4so0ui4Hq3CAXSqbfay+Elzf1EcH4Pos9Hf578GkNXzfP7XAfQPMIzyV57W5TPIWN/0JWh/z/40SPYjN3x0AE9VaL/IMkw3C00NX/rjL/ZnY/j93HETixzr6wNRSx1/x2Eo3ngJ/9mbnlscTHa9J2zuQ14ZloxnjvBZtWK8P/rKAq1THUyBX7fxT4f5moE+wfC2lfVj2bV+BZLDB/t05vnkI9N58W+/5Ieq4XDksxbYOhtqPzX+k2Vo9ghDs7YOv7/r+Hp1+Loe/OUYffr83B3G10kH/iB2W7e5d5qb2PjsFrev7Dvk6/qxN3eudeDB51BkDuX7IdmNZ2vNRwF5XsyP58YvtX1FstrXxx5zVvJBtsaTZpe8cT/3X5UHaPZMb8QD5w8fTUVvKu75Z+nioLwvmNXQt1foVt6C+LmMv2LzyT2nZfnCoL+L5HyNa/2Y/caE3feMZS8b+mkO87VBDv97wrica7lav4rckfWsD6TrBdmxiS+wKx+KK9Lvq6JM3uCnyNYzOJ/ILz9gCkh/LIMdZEts9G8iW7MWfebs/ojkbQ7yG/mWW/lTTvMXS976GEfv+9B5SJU+j8D/gjzkwDMj2Cd9D3Rqj8kuMvyVdbS3vOUtb3nLPyT/A0yY1Ri8lDb+AAAAAElFTkSuQmCC);
   background-repeat: no-repeat;
   background-size: 200px;

  }
</style>
 
{{!-- inicio para visualiazar el navbar con sus respectivos href --}}
  <nav class="navbar navbar-expand  navbar-light bg-dark ml-7">
        <div id="canvas">
          <canvas id="canvas" width="300" height="50"></canvas>
        </div>
        <div className=" collapse navbar-collapse" >
          <ul class="navbar-nav m-auto">
          <li class="nav-item ">
              <a class="nav-link text-white text-uppercase ml-1" href="#"></a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white text-uppercase ml-5 font-italic" href="#">Alta Pedidos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white text-uppercase ml-5 font-italic" href="#">Busqueda de Pedidos</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white text-uppercase ml-5 font-italic" href="#">Busqueda de Orden de Compra</a>
            </li>
         </ul>
        </div>
    </nav><br>
{{!-- formulario para dar de alta un pedido con los campos que se requieren segun las especificaciones dichas anteriormente --}}
<form action="/ventas/add" enctype="multipart/form-data" method="post" id="imgct" class="columinput">
   <div class="container">
      <div class="form-group row  justify-content-center ">
        <label for="oc" class="col-sm-2 col-form-label">Orden de Compra:</label>
        <div class="col-sm-6">
          <input type="text" class="form-control valid border border-secondary" name="orden" pattern="[A-Za-z0-9]+" title="Campo Obligatorio"required>
  
              <input type="file" id="gimg" name="gimg" class="form-control-file" style="color: black" required /></center>
        
        </div>
      </div>
      <div >
      <br>
      </div>

      <div class="form-group row justify-content-center">
        <label for="" class="col-sm-2 col-form-label">No. de Cotizacion:</label>
        <div class="col-sm-6">
          <input type="text"  class="form-control valid border border-secondary" name="numeroCotizacion" pattern="[A-Za-z0-9]+" title="Campo Obligatorio" required>
          {{!-- <div class="container"> --}}
            <input type="file" class="form-control-file " name="gimg" id="gimg" style="color: black;" required>
          {{!-- </div> --}}
        </div>
      </div>

      <br>
      <center>
       <div id="inputCliente"></div> 
      </center> 
     
      <div class="form-group row justify-content-center">
       
        <label for="" class="col-sm-2 col-form-label">Cliente:</label>
        <div class="col-sm-6">
          {{#each cliente }}
          <input type="text"  class="form-control border border-secondary" value="{{nombre}}" name="cliente" >
          {{/each}}
          {{!-- esta es la chida desde un principio --}}
          {{!-- <a class="btn btn-light btn-lg btn-block " data-toggle="modal" href="/ventas/busquedaCliente" role="button" aria-expanded="false" aria-controls="collapseExample">
            Tus Clientes
          </a> --}}

        {{!-- ventana emergente para Cliente --}}
        <button type="button" class="btn btn-light btn-lg btn-block " data-toggle="modal" data-target="#staticBackdrop"  href="/ventas/busquedaCliente" role="button" aria-expanded="false" aria-controls="collapseExample">
        Tus Clientes
        </button>
        </div>
      </div>

    
<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Options</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-bodyss">
          {{!-- <div class="col-sm-6"> --}}
          <center>Busqueda Cliente: <input type="text"  id="serch" class="col-sm-8 "></center>
          <div id="clientesPorBusqueda"></div>
          <div id="clientes"><br>

          <table class="table table-bordered-responsive-sm justify-content-center">
           <thead class="thead-light">
           <tr>
             <th scope="col">NOMBRE</th>
             <th scope="col">ID</th>
             <th scope="col">BUSCAR</th>
           </tr>
         </thead >
           {{#each clientes}}
           <tr>
               <td>{{nombre}}</td>
               <td>{{numero_interno}}</td>
               <td> <center> <button type="button"  onclick="clientes('{{nombre}}')" class="btn btn-success" data-dismiss="modal">Seleccionar</button></center></td>
           </tr>
           {{/each}}
         </table>
        </div>
        </div>
      </div>
      <div class="modal-footer">
        
        {{!-- <button type="button" class="btn btn-primary" data-dismiss="modal">Selecciona</button> --}}
      </div>
    </div>
  </div>
</div>

<div class="container">
      <div class="form-group row justify-content-center">
        <label for=""  class="col-sm-2 col-form-label ">Ruta:</label>
        <div class="col-sm-6">
        <select class="form-control border border-secondary "  name="ruta" >
          <option value="1">Norte</option>
          <option value="2">Sur</option>
        </select>
        </div>
      </div> 

      <div class="form-group row justify-content-center">
        <label for="" class="col-sm-2 col-form-label">Importe:</label>
        <div class="col-sm-6">
          <div class="input-group-prepend">
          <span class="input-group-text border border-secondary" >$</span>
          <input type="text"  class="form-control border border-secondary" name="importe" required >
        </div>
        </div>
      </div>
      
{{!-- pattern de importe validacion un numero entero decimal entre 1 y 2 digitos  --}}
      <div class="form-group row justify-content-center">
        <label for="" class="col-sm-2 col-form-label" >Observaciones:</label>
        <div class="col-sm-6">
        <textarea class="form-control border border-secondary"  name="observaciones" title="En caso de ques sea necesario poner observaciones" rows="2"></textarea>
      </div>
      </div>
      <br>
      <div class="form-group row justify-content-center">
        <label for="" class="col-sm-2 col-form-label" ></label>
        <div class="col-sm-4">
          <input type="submit" class="btn btn-success btn-lg btn-block" value="Guardar" id="nvig" />
        </div>
      </div>
    </div> 
 </form>
 <script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
<script type=" text/javascript">
    $('#clientesPorBusqueda').hide(); 
    $('#serch').keyup(function (e) {  
     if($('#serch').val()){ 
        let search = $('#serch').val();
        let data  = {
          clientes  : search
        }
        $.post("/ventas", data,function (data) {
          console.log(data); 
            let tabla  = `<table class="table table-bordered-responsive-sm">
                <thead class="thead-light">
           <tr>
             <th scope="col">NOMBRE</th>
             <th scope="col">ID</th>
             <th scope="col">BUSCAR</th>
           </tr>
         </thead>`; 
            data.forEach(data => {
                tabla+= `
                  <tr>
                    <td>${data.nombre}</td>
                    <td>${data.numero_interno}</td>
                    <td> <button type="button"  onclick="clientes('${data.nombre}')" class="btn btn-success" data-dismiss="modal">Seleccionar</button></td>
                  </tr> 
                `
            });
            tabla  += "</table>"; 
            $("#clientes").hide(); 
            $("#clientesPorBusqueda").show();
            document.getElementById('clientesPorBusqueda').innerHTML  = tabla; 
            console.log(tabla); 
              
        });
     }
    }); 

   
    let clientes = (nombre)=>{
      let mandar  = `
 
        <div class="form-group row">
        <div class="col-sm-8">
        <label for="" class="col-form-label">Nombre del cliente:</label>
        <input type="text"  value="${nombre}" name="nombre">
        </div>
        </div>
     `;
      document.getElementById('inputCliente').innerHTML =  mandar; 

    }
</script>